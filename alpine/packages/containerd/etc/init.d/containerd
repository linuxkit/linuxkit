#!/sbin/openrc-run

depend()
{
	after docker
}

start()
{
	ebegin "Running system containerd"

	# set ulimits as high as possible
	ulimit -n 1048576
	ulimit -p unlimited

	/usr/bin/containerd 1>&2 2>/var/log/containerd.log &

	ewaitfile 5 /var/run/containerd/containerd.sock

	eend $? "Failed to start system containerd"
}
